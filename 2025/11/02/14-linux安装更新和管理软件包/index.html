<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>14.linux安装更新和管理软件包 | LynPtl&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Linux 安装更新和管理软件包（或许在施工中）安装和更新软件包 软件(Software)是您在计算机上运行的任何应用程序。 软件包(Package)是一个包含与软件相关的程序、文件和可执行文件的容器。  系统更新和软件仓库 yum (用于 CentOS) &#x2F; apt-get (用于其他 Linux 发行版) rpm (红帽软件包管理器)  这里我使用yum安装ftp包作为一个例子。昨天">
<meta property="og:type" content="article">
<meta property="og:title" content="14.linux安装更新和管理软件包">
<meta property="og:url" content="https://lynptl.github.io/2025/11/02/14-linux%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%92%8C%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6%E5%8C%85/index.html">
<meta property="og:site_name" content="LynPtl&#39;s Blog">
<meta property="og:description" content="Linux 安装更新和管理软件包（或许在施工中）安装和更新软件包 软件(Software)是您在计算机上运行的任何应用程序。 软件包(Package)是一个包含与软件相关的程序、文件和可执行文件的容器。  系统更新和软件仓库 yum (用于 CentOS) &#x2F; apt-get (用于其他 Linux 发行版) rpm (红帽软件包管理器)  这里我使用yum安装ftp包作为一个例子。昨天">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_c7cN03nWKq.png">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_vvIFUAYmWy.png">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_RDUKq6er9w.png">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_DbhUcvFWnn.png">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_Chy9bjlMkA.png">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_tiOHMwFzR1.png">
<meta property="og:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_jsN38lQab6.png">
<meta property="article:published_time" content="2025-11-02T01:38:12.000Z">
<meta property="article:modified_time" content="2025-11-14T15:54:20.162Z">
<meta property="article:author" content="LynPtl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_c7cN03nWKq.png">
  
    <link rel="alternate" href="/atom.xml" title="LynPtl's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 8.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LynPtl&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/image-bed.html">图床</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://LynPtl.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-14-linux安装更新和管理软件包" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/11/02/14-linux%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%92%8C%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6%E5%8C%85/" class="article-date">
  <time class="dt-published" datetime="2025-11-02T01:38:12.000Z" itemprop="datePublished">2025-11-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux%E5%85%A5%E9%97%A8/">Linux入门</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      14.linux安装更新和管理软件包
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Linux-安装更新和管理软件包（或许在施工中）"><a href="#Linux-安装更新和管理软件包（或许在施工中）" class="headerlink" title="Linux 安装更新和管理软件包（或许在施工中）"></a>Linux 安装更新和管理软件包（或许在施工中）</h1><h1 id="安装和更新软件包"><a href="#安装和更新软件包" class="headerlink" title="安装和更新软件包"></a>安装和更新软件包</h1><ul>
<li>软件(Software)是您在计算机上运行的任何应用程序。</li>
<li>软件包(Package)是一个包含与软件相关的程序、文件和可执行文件的容器。</li>
</ul>
<h1 id="系统更新和软件仓库"><a href="#系统更新和软件仓库" class="headerlink" title="系统更新和软件仓库"></a>系统更新和软件仓库</h1><ul>
<li><code>yum</code> (用于 CentOS) &#x2F; <code>apt-get</code> (用于其他 Linux 发行版)</li>
<li><code>rpm</code> (红帽软件包管理器)</li>
</ul>
<p>这里我使用yum安装ftp包作为一个例子。昨天的笔记中有在ubuntu中使用apt安装ftp的例子。</p>
<p><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_c7cN03nWKq.png" alt="VirtualBoxVM_c7cN03nWKq.png"></p>
<p>你可以使用<code>rpm -qa</code>来查看所有你已经安装的包。<br><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_vvIFUAYmWy.png" alt="VirtualBoxVM_vvIFUAYmWy.png"></p>
<p>使用管道到<code>wc -l</code>可以统计列数，就是已安装的包的数量。</p>
<p><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_RDUKq6er9w.png" alt="VirtualBoxVM_RDUKq6er9w.png"></p>
<h1 id="RPM-vs-YUM"><a href="#RPM-vs-YUM" class="headerlink" title="RPM vs. YUM"></a>RPM vs. YUM</h1><p><code>rpm</code> 和 <code>yum</code> 都是用于在基于 Red Hat 的 Linux 系统上管理软件包的工具，但它们在功能和使用方式上有本质的区别。</p>
<ul>
<li><p><strong>RPM (Red Hat Package Manager)</strong></p>
<ul>
<li><strong>底层工具</strong>: <code>rpm</code> 是一个底层的软件包管理器。它直接处理 <code>.rpm</code> 文件，可以进行安装、查询、卸载、升级和验证等操作。</li>
<li><strong>不自动处理依赖</strong>: 这是 <code>rpm</code> 最重要的一个特点。当你使用 <code>rpm</code> 安装一个软件包时，如果这个包依赖于其他未安装的包，<code>rpm</code> 会报错并失败。你需要手动去寻找并安装所有这些依赖包，这个过程可能非常繁琐。</li>
<li><strong>用途</strong>: <code>rpm</code> 更适合用于对单个 <code>.rpm</code> 文件进行操作，或者在无法连接到互联网的环境下进行离线安装（前提是你已经准备好了所有的依赖包）。</li>
</ul>
</li>
<li><p><strong>YUM (Yellowdog Updater, Modified)</strong></p>
<ul>
<li><strong>高层工具</strong>: <code>yum</code> 是一个更高层次的软件包管理工具，它构建在 <code>rpm</code> 之上，旨在简化软件包管理过程。</li>
<li><strong>自动解决依赖关系</strong>: 这是 <code>yum</code> 最大的优势。当你使用 <code>yum</code> 安装一个软件包时，它会自动检查所有依赖关系，并从配置好的软件仓库（repository）中下载并安装所有需要的依赖包。这极大地简化了软件安装过程。</li>
<li><strong>基于软件仓库</strong>: <code>yum</code> 从远程或本地的软件仓库中查找、下载和安装软件包。这些仓库包含了大量的软件包及其元数据（包括依赖信息）。</li>
<li><strong>用途</strong>: <code>yum</code> 是日常进行系统更新、软件安装和管理的首选工具，因为它非常方便。</li>
</ul>
</li>
</ul>
<h1 id="卸载软件包"><a href="#卸载软件包" class="headerlink" title="卸载软件包"></a>卸载软件包</h1><h2 id="使用-YUM-卸载"><a href="#使用-YUM-卸载" class="headerlink" title="使用 YUM 卸载"></a>使用 YUM 卸载</h2><p><code>yum remove &lt;package_name&gt;</code>: 这是卸载软件包的首选方法，因为它会自动处理依赖关系。当您卸载一个软件包时，<code>yum</code> 会检查是否有其他软件包依赖于它。如果没有，<code>yum</code> 会将其卸载；如果有，<code>yum</code> 会提示您是否也卸载这些依赖包（如果它们不再被其他任何包需要）。</p>
<p><strong>示例:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove ftp</span><br></pre></td></tr></table></figure>
<p>此命令会卸载 <code>ftp</code> 软件包及其不再需要的依赖项。</p>
<h2 id="使用-RPM-卸载"><a href="#使用-RPM-卸载" class="headerlink" title="使用 RPM 卸载"></a>使用 RPM 卸载</h2><p><code>rpm -e &lt;package_name&gt;</code>: 使用 <code>rpm</code> 卸载软件包时，需要非常小心，因为它不会自动处理依赖关系。如果一个软件包被其他已安装的软件包所依赖，<code>rpm -e</code> 命令会失败并报错，除非强制卸载。</p>
<p><strong>示例:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e ftp</span><br></pre></td></tr></table></figure>
<p>如果 <code>ftp</code> 软件包没有被其他包依赖，这个命令会成功。如果存在依赖，您可能会看到类似以下的错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: Failed dependencies:</span><br><span class="line">    ftp is needed by (installed) some_other_package</span><br></pre></td></tr></table></figure>
<p>在这种情况下，需要先卸载依赖 <code>ftp</code> 的 <code>some_other_package</code>，或者使用 <code>--nodeps</code> 选项强制卸载（不推荐，可能导致系统不稳定）。</p>
<p><strong>强制卸载 (不推荐):</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e --nodeps ftp</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>: 强制卸载可能会破坏系统上其他软件包的功能，因为它们可能依赖于正在卸载的软件包。除非非常清楚自己在做什么，否则应尽量避免使用 <code>--nodeps</code> 选项。</p>
<h1 id="系统升级-补丁管理"><a href="#系统升级-补丁管理" class="headerlink" title="系统升级&#x2F;补丁管理"></a>系统升级&#x2F;补丁管理</h1><ul>
<li><p>两种类型的升级：</p>
<ul>
<li>主版本升级 (Major version) &#x3D; 例如从 5.x 升级到 6.x 或 7.x</li>
<li>次版本升级 (Minor version) &#x3D; 例如从 7.3 升级到 7.4</li>
</ul>
</li>
<li><p><code>yum update</code> vs. <code>yum upgrade</code></p>
<ul>
<li><code>upgrade</code> &#x3D; 删除旧的包</li>
<li><code>update</code> &#x3D; 保留旧的包</li>
</ul>
</li>
<li><p>主版本升级 &#x3D; <code>yum</code> 命令 是不支持的</p>
</li>
<li><p>次版本升级 &#x3D; <code>yum update</code> 可以升级</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update -y</span><br></pre></td></tr></table></figure>
<p>意思更新目前所有的已安装软件包，并且不要询问我，我会同意安装中的所有询问。</p>
<p><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_DbhUcvFWnn.png" alt="VirtualBoxVM_DbhUcvFWnn.png"></p>
<p>如果你所有的软件包都是最新的，那么<code>yum update</code>是不会有更新的。</p>
<h3 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h3><p>有时候你可能会通过curl或者访问某包的官网下载他们的rpm包。</p>
<p>比如你本地有了一个<code>.rpm</code>文件，你就可以使用比较常用的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh packagename.rpm</span><br></pre></td></tr></table></figure>

<p>-U（Update）<br>如果这个软件已经安装了，它会将其升级到新版本。<br>如果这个软件尚未安装，它会直接安装它。</p>
<p>-h (hash - 哈希&#x2F;进度条)<br>这个选项会在安装过程中显示一个进度条，通常是用井号（#）来表示。这能让你直观地看到安装的进度，非常有用。</p>
<p>-v (verbose - 详细)<br>这个选项会显示详细的运行信息，比如它正在检查什么、正在执行什么步骤。</p>
<p>上面的这个命令也经常会使用通配符，因为通常这个文件名会很长。</p>
<p>比如<code>3cpio-0.11.0-2.el10_2.x86_64.rpm</code>,就可以使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh 3cpio*rpm</span><br></pre></td></tr></table></figure>

<p><code>rpm -qi</code>可以展示关于已安装的该软件包的信息：</p>
<p><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_Chy9bjlMkA.png" alt="VirtualBoxVM_Chy9bjlMkA.png"></p>
<p><code>rpm -qc</code>可以查看该软件包的配置文件目录：</p>
<p><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_tiOHMwFzR1.png" alt="VirtualBoxVM_tiOHMwFzR1.png"></p>
<p><code>rpm -qf</code>可以查询该目录隶属于哪个包<br><img src="https://pub-85d4dcece16844bf8290aa4b33608ccd.r2.dev/ShareX/2025/11/VirtualBoxVM_jsN38lQab6.png" alt="VirtualBoxVM_jsN38lQab6.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lynptl.github.io/2025/11/02/14-linux%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%92%8C%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6%E5%8C%85/" data-id="cuidOWjNjjHkSjay1F1Lj5nSM" data-title="14.linux安装更新和管理软件包" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/11/03/15-linux%E8%AE%BF%E9%97%AE%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          15.linux访问文件系统
        
      </div>
    </a>
  
  
    <a href="/2025/11/01/13-linux%E5%BD%92%E6%A1%A3%E5%8E%8B%E7%BC%A9%E5%92%8C%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">13.linux归档压缩和传输文件</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E5%85%A5%E9%97%A8/">Linux入门</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E5%85%A5%E9%97%A8/Linux%E6%8E%92%E9%94%99/">Linux排错</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E5%85%A5%E9%97%A8/Shell%E5%85%A5%E9%97%A8/">Shell入门</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">十一月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">十月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/11/15/19-linux%E4%BC%98%E5%8C%96%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD/">19.linux优化系统性能</a>
          </li>
        
          <li>
            <a href="/2025/11/13/18-linux%E8%AE%A1%E5%88%92%E6%9C%AA%E6%9D%A5%E4%BB%BB%E5%8A%A1/">18.linux计划未来任务</a>
          </li>
        
          <li>
            <a href="/2025/11/11/17-linux-shell%E5%85%A5%E9%97%A8/">17.linux_shell入门</a>
          </li>
        
          <li>
            <a href="/2025/11/09/16-linux%E5%88%86%E6%9E%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%92%8C%E8%8E%B7%E5%8F%96%E6%94%AF%E6%8C%81/">16.linux分析服务器和获取支持</a>
          </li>
        
          <li>
            <a href="/2025/11/03/15-linux%E8%AE%BF%E9%97%AE%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/">15.linux访问文件系统</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 LynPtl<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/image-bed.html" class="mobile-nav-link">图床</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>